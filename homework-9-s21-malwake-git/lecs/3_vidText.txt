Let's summarize what we've talked about so far. WiFi is an evolving family of standards to enable short range, wireless communication over the unlicensed ISM frequency bands, and for largely stationary devices.

So a couple of the properties of WiFi, it's for short range, it's for wireless, it's for unlicensed, and largely stationary devices.

WiFi networks are often deployed with very limited planning and managed only lightly, if at all. So given that it's unregulated, whether a WiFi hotspot works well or not is really going to depend on how effectively various performance optimizations are carried out. In the rest of this lecture, we're going to focus on the air interface part between the access point and the devices, so there's some access point and all our devices, we're going to be focusing on the air interface between those.

And actually the terminology station, a station refers to both a device as well as to an access point. Station is just something that transmits and receives according to WiFi standards, so both devices and access points are going to transmit and receive at different times, therefore they're both stations.

And we're going to focus on the air interface part, even though as we said the backhaul could also become a bottleneck.

The first set of performance tuning involves the correct selection of the access point, the correct selection of the channel frequency, and the correct selection of the transmission range. So we'll look at those now.

Number one, AP association. A WiFi device has to regularly scan the air and then associate with the right access point. So which one is going to be the right one. So if there's a couple of different access points that your device can associate with, remember it can't associate with all of them because some of them may be password protected, so among the ones it can associate with the one that offers the best signal quality is going to be the one it wants to choose. Signal quality is quantified in terms of the Signal to Interference Ratio, so the signal is what we're trying to get to the receiver, and the interference is what's coming in as noise, noise can be both internal to the receiver itself as well as from interference that comes from other transmitters. So a higher SIR is always better. So among those, it's going to want to choose the one that offers it the highest SIR.

After AP association, the second step is channel selection. Which frequency bands do we want to communicate with? A device has to make sure it can communicate with the AP, and to do that it needs to select the proper frequency range that it's going to transmit and receive messages on. Each access point is going to operate on one or more frequency channels, and the overall ISM frequency band is going to be divided into a number of such channels, each with a certain channel width. And we'll take a look at two examples of that in a second. But just before we do that, just to make the point that to minimize interference we would ideally want each access point that is within interference range of each other, so if we have a couple of different access points that are all in interference range, and they can all therefore collide their different messages, we would want them to each be operating in different frequency channels, because if they are on different channels we are going to avoid a whole lot of interference that is associated with transmitting on the same frequency channels. Unfortunately a lot of WiFi deployments just use the default channel that the AP is set to when the AP comes out of the box, like the wireless router in your home may be set by default, and if they are all on channel 6 for example unnecessary interference is created right there, because if we could switch them onto different channels we would be avoiding the fact of them being able to collide on the same frequency bands in the first place. So that's one way we could minimize interference, is by selecting different channels.

So we can take a look at a couple of different channel allocations, for 802.11b in the US, for example, there are 11 channels centered around the 2.4 gigahertz band. This is from channel 1, channel 2, all the way up through channel 11. They go from center frequencies the center frequency is just the center of the channel, of 2.412 GHz all the way up to 2.462 GHz. And they are spaced 5 megahertz apart. So if you do the math out a bit, you can see first of all that with these 22 megahertz channels, if we have 11 such channels, we're going to get 72 Megahertz total. Because the first channel is 22 as our base, and each of the other ten channels are going to add 5 megahertz on top of that, for 5 times 10 equals 50, and then 50 plus 22 is 72 megahertz total.

So if we want all the channels to be non-interfering with each other, given that they are all 22 megahertz out of the 72 megahertz total, the only configuration we could actually choose are channels 1, 6, and 11, we can have a total of three channels, and you can figure that out by taking 72 megahertz and dividing by 22, and seeing that if we take the floor of that, the closest integer we are going to come to for them to all be non-overlapping, that is going to give you 3. Now in Europe there are actually 13 channels for 802.11b, and the addition of two extra channels brings our total to 82 megahertz. And these extra two channels 12 and 13 are centered at 2.467 and 2.472 gigahertz respectively, this is channel 13. With this total width and 22 megahertz spacing, we can't quite add another channel to say instead of 3 channels going up to 4 channels since we have more width, we can't quite do that in a way that they are non-overlapping, but we can get pretty close. If we choose channels 1, 5, 9, and 13, they are all going to only be overlapping by 2 MHz widths. That's not too much overlap and is not going to cause too much interference between these different channels, but theoretically to have them perfectly non-overlapping we would need to add additional spectrum out here and that spectrum may not be available to us.

So to summarize, 802.11b in the US with 11 channels we can have 3 non-overlapping. And with 802.11b in Europe we can have 4 almost non-overlapping.

Now after AP selection and channel selection, the final step is to do rate selection, to choose the transmission rate that the device is going to be transmitting at. We mentioned that each of 802.11a/b/g/n/ac whatever the standard may be they can all transmit up to a certain data rate, if we have idea channel conditions. And again that's assuming a really good channel with no interference and also no mobility. In many WiFi hotspots the channel conditions are going to fluctuate a lot as interferers come and go, and this maximum rate is going to be rarely achieved, but in order to achieve a higher rate or a good rate we're going to require a higher signal to interference ratio. A higher rate needs a higher signal to interference ratio (SIR) or higher signal quality so the receiver can properly decode the messages that are being set. If the channel conditions degrade we're going to have a lower SIR and then we can only tolerate a lower rate. As devices are coming and going, causing channel conditions to fluctuate quite a lot quite frequently and rapidly, and therefore we're going to need to change the transmission rate quite a bit. So the AP will tell the devices to back off to one of the lower rates that are specified, for 802.11b that could be all the way down to 1 megabit per second, and that's again so that's so  decoding is accurate enough under the lower speed. The device can also know it's time to reduce it's rate, so the AP can tell the device but the device itself can know that it has to change and adjust its rate if it's receiver SIR is too low for the current rate. Or if there have been too many lost frames, because as we'll see in a bit a device can detect whether frames are lost by the presence or absence of acknowledgment packets that may come back.

So now, suppose your WiFi device has gotten the above three things right. It has the right access point, the right channel for that access point, and also the right transmission rate. The next step is to take care of interference, and we'll take a look at that next.