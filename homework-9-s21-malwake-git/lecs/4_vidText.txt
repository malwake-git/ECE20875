Now suppose your WiFi device has gotten the three connection steps AP association, channel selection, and rate selection right. We need to take care of interference now.

When two transmitters are in interference range of each other, and they both transmit a frame at a similar time, say t1 and t2 respectively, so this diagram here this might be t1 and this might be t2 when this guy decides to transmit. Then what happens is that these two frames will collide, because there's some overlap in the amount of time they stay in the air.

So there's three possible outcomes of a collision. The first one is that both frames are lost, meaning that neither receiver was able to correctly decode the intended frame due to the interference if in fact the collision is what caused the frames to be lost. The second is that the stronger frame is properly received but the weaker frame is lost. This is called capture. And what we mean by stronger or weaker has to do with the signal to interference ratio. A higher signal to interference ratio means the signal has higher quality and therefore is more likely to be properly received in the case of a collision. The third case is double capture, when both frames are properly received. So the question is now, which outcome is going to prevail? How can we model this and figure out which one is going to happen so we can model the throughput that's achieved by WiFi?

Well it depends on several things, and it depends on these things quite strongly as a matter of fact. The first one is how long the frames overlap. The longer they overlap, the longer they clash, the more chance there is of communication being disrupted. In this case, this overlap time would be whatever this duration is.

The second his how big the differential in SIR between the two frames is, and that in turn obviously depends on the channel conditions and also the transmit powers of the WiFi devices, so in this case this is the SIR for the first frame that is transmitted and this is the SIR for the second frame that is transmitted. The larger this differential, if one frame has a much higher SIR than the other, and we can figure out the differential by whatever this difference is in here, the larger that is, if one frame has a high higher SIR than the other, then it has a much better chance of surviving some interference than the other one does. On the other hand, the one that has a lower SIR cannot tolerate much noise and still be properly received.

The third is how large an SIR is required for proper decoding at the receiver, and that in turn is going to depend on the transmission rates, codings and modulations, and also receiver electronics. Transmission rates, coding and modulations, and also whatever is internal to the receiver. Receivers with less internal noise can tolerate more interference than ones with more. And for the SIR differential between frames, we mentioned this, just to summarize what could impact that, it depends on the channel conditions, and also the transmit powers.

So the firs two of these — how long the frames overlap and the SIR differential — is illustrated in this diagram right here. The longer the overlap and the higher the differential, we are more likely to have either both frames being lost or just one of the frames being properly received.

It really is an unpleasant fact that wireless transmissions may interfere with one another, since wireless transmissions are just energy propagating through the air. It is a particularly challenging set of physics to model, because collision is not just one type of event, there are multiple different cases that we have to account for. And not to mention that it is over time too, with the length of the overlaps. So in the rest of this lecture, in order to take a cautious approach and get the worst case type of scenario, we are going to assume that whenever a collision happens, it's always going to lead to both of the frames being lost.

So in essence we are going to assume that capture and double capture won't happen.

Compared with cellular networks, WiFi also uses fundamentally different approach to managing interference, and this is due to the differences between WiFi and cellular and what they are built for. WiFi is a much smaller cell size, there's a lot smaller number of devices in there, typically indoors, it typically allows a much smaller transmit power, and there's more uncontrolled interference in unlicensed band than there would be in licensed bands. So instead of adjusting the transmit powers to configure the right signal to interference ratios, because we could try to adjust that and get all the devices at the SIRs that work for them, WiFi tries to avoid collisions altogether through the mechanisms of medium access control.

So this is how WiFi tries to avoid collisions. So rather than trying to get double capture, it's just going to try to make it so that collisions aren't going to happen in the first place.

You can think here of a cocktail party where guests voices are overlapping in the air, so we have a lot of different people talking, and it can get pretty loud in there. With enough interference, you won't be able to understand what your friend is trying to say, just like with enough interference WiFi devices won't be able to communicate with their access points. Cellular network power control is like asking everyone to adjust their volume without running into an arms race, so without everyone just trying to speak as loud as they can which is an inefficient state for everyone anyway. WiFi medium access control, on the other hand, is like arranging for the guests to talk at different times.

So with medium access control there's generally two different types. One is if you have a centralized coordinator, and what we mean by that is if we have a set of devices that are all communicating or trying to communicate with an access point, we may make this access point a coordinator that's going to coordinate when these different devices can speak and how long they can speak for, so they are each going to get assigned say a dedicated timeslot. So this device has the first timeslot, this one has the second one, this one has the third one, this one has the fourth one, this one the fifth one, and then it cycles back.

The other alternative is that we have distributed coordination. In distributed coordination we let the devices try to manage this process themselves through the mechanisms of random access. Random access is as opposed to dedicated or controlled or scheduled access to the channel, in this case there's more randomness in terms of when the devices will access it. Instead of having a central coordinator here, so we don't have these arrows anymore, we dont have this coordination happening, we have the devices try to coordinate with each other in essence, and try to listen to the air and figure out when they might be able to transmit based on whether other people are transmitting right now or not.

So these two alternatives are technically called the PCF, Point Coordination Function, this is the centralized coordinator version of the scheduling, and the Distributed Coordination Function DCF, and this is the random access version of distributed coordination. The PCF is a form of centralized control, and dedicated resource allocation. It's complicated to operate and really in practice it's rarely used for WiFi networks. The DCF in contrast enables shared resource allocation and in practice this is the one that's used most of the time, and indeed what we're going to be focusing on as we study interference management in this lecture.

As you might suspect for any distributed algorithm, it can be less efficient, because if we have some central coordinator that knows when everyone has to talk and arranges them in such a way that they are never going to collide ever, that can really maximize the efficiency. And indeed the fact that we use the DCF is why WiFi won't scale to a large number of devices at hotspots. This is why WiFi doesn't scale well. On the other hand, the DCF is also much easier to run because each device executes it locally, and that's a very useful property to have, especially in the dynamic conditions of unregulated frequency bands, with people coming and going, we don't have to completely change the coordination or the scheduling every time one person decides to turn their phone on or one person decides to walk in to the access point.

So we will soon discuss WiFi's DCF, and that is a particular implementation of the Carrier Sensing Multiple Access Carrier Sensing Multiple Access or CSMA for short. And this is a random access protocol, so WiFi's DCF is a particular implementation of CSMA, and CSMA as we'll see, in a nutshell, is having each device listen and try to sense the presence of other carriers, and try to see whether they are transmitting or not in order to tell if it's possible for them to transmit now, to potentially avoid collisions.